<Window x:Class="WpfMusicPlayer.ListeningStatsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Listening Statistics" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#FF2D2D30" Padding="20,15">
            <StackPanel>
                <TextBlock Text="Listening Statistics" FontSize="24" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                <TextBlock x:Name="PeriodText" FontSize="14" Foreground="#FFCCCCCC" HorizontalAlignment="Center" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Content -->
        <TabControl Grid.Row="1" Background="#FF3E3E42" BorderThickness="0">
            <TabItem Header="This Weekend" Background="#FF2D2D30" Foreground="White">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Weekend Summary -->
                    <Border Grid.Row="0" Background="#FF404040" Padding="15" Margin="0,0,0,15" CornerRadius="5">
                        <StackPanel>
                            <TextBlock x:Name="WeekendSummaryText" FontSize="16" Foreground="White" FontWeight="Bold"/>
                            <TextBlock x:Name="WeekendTimeText" FontSize="14" Foreground="#FFCCCCCC" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Weekend Top Songs -->
                    <ListView x:Name="WeekendSongsList" Grid.Row="1" Background="#FF3E3E42" BorderThickness="0" Foreground="White">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Rank" Width="60">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Rank}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Song" Width="250">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding SongTitle}" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Artist" Width="200">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Artist}" Foreground="#FFCCCCCC"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Plays" Width="80">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding TotalPlays}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Listen Time" Width="120">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding TotalListeningTimeText}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>

            <TabItem Header="This Month" Background="#FF2D2D30" Foreground="White">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Monthly Summary -->
                    <Border Grid.Row="0" Background="#FF404040" Padding="15" Margin="0,0,0,15" CornerRadius="5">
                        <StackPanel>
                            <TextBlock x:Name="MonthlySummaryText" FontSize="16" Foreground="White" FontWeight="Bold"/>
                            <TextBlock x:Name="MonthlyTimeText" FontSize="14" Foreground="#FFCCCCCC" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Monthly Top Songs -->
                    <ListView x:Name="MonthlySongsList" Grid.Row="1" Background="#FF3E3E42" BorderThickness="0" Foreground="White">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Rank" Width="60">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Rank}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Song" Width="250">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding SongTitle}" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Artist" Width="200">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Artist}" Foreground="#FFCCCCCC"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Plays" Width="80">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding TotalPlays}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Listen Time" Width="120">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding TotalListeningTimeText}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>

            <TabItem Header="All Time" Background="#FF2D2D30" Foreground="White">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- All Time Summary -->
                    <Border Grid.Row="0" Background="#FF404040" Padding="15" Margin="0,0,0,15" CornerRadius="5">
                        <StackPanel>
                            <TextBlock x:Name="AllTimeSummaryText" FontSize="16" Foreground="White" FontWeight="Bold"/>
                            <TextBlock x:Name="AllTimeTimeText" FontSize="14" Foreground="#FFCCCCCC" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- All Time Top Songs -->
                    <ListView x:Name="AllTimeSongsList" Grid.Row="1" Background="#FF3E3E42" BorderThickness="0" Foreground="White">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Rank" Width="60">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Rank}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Song" Width="250">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding SongTitle}" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Artist" Width="200">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Artist}" Foreground="#FFCCCCCC"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Plays" Width="80">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding TotalPlays}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Listen Time" Width="120">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding TotalListeningTimeText}" HorizontalAlignment="Center" Foreground="White"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>
        </TabControl>

        <!-- Footer -->
        <Border Grid.Row="2" Background="#FF2D2D30" Padding="15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="RefreshButton" Content="Refresh" Width="100" Height="30" Margin="5" Click="RefreshButton_Click"/>
                <Button x:Name="CloseButton" Content="Close" Width="100" Height="30" Margin="5" Click="CloseButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>